{% extends "learning_logs/base.html" %}

{% block content %}
<div class="edit-entry-container">
    <!-- Back Navigation -->
    <div class="navigation-link">
        <a href="{% url 'learning_logs:topic' topic.id %}" class="back-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" 
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
            Back to Topic
        </a>
    </div>

    <!-- Header Section -->
    <div class="header-section">
        <div class="title-wrapper">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" 
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
            </svg>
            <h1>Edit Entry</h1>
        </div>
        <h2>Topic: <a href="{% url 'learning_logs:topic' topic.id %}" class="topic-link">{{ topic }}</a></h2>
    </div>

    <!-- Form Section -->
    <div class="form-container">
        <form action="{% url 'learning_logs:editEntry' entry.id %}" method="post">
            {% csrf_token %}
            <div class="form-fields">
                {{ form.as_p }}
            </div>
            <div class="form-actions">
                <button type="submit" class="submit-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" 
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
                        <polyline points="17 21 17 13 7 13 7 21"/>
                        <polyline points="7 3 7 8 15 8"/>
                    </svg>
                    Save Changes
                </button>
            </div>
        </form>
    </div>
</div>

<style>
    .edit-entry-container {
        max-width: 800px;
        margin: 2rem auto;
        padding: 0 1rem;
    }

    .navigation-link {
        margin-bottom: 2rem;
    }

    .back-link {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: #4a5568;
        text-decoration: none;
        transition: color 0.3s ease;
    }

    .back-link:hover {
        color: #2d3748;
    }

    .header-section {
        margin-bottom: 2rem;
    }

    .title-wrapper {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        margin-bottom: 0.5rem;
    }

    .title-wrapper h1 {
        font-size: 1.875rem;
        font-weight: 700;
        color: #1a202c;
    }

    .title-wrapper svg {
        color: #3182ce;
    }

    .topic-link {
        color: #3182ce;
        text-decoration: none;
        transition: color 0.3s ease;
    }

    .topic-link:hover {
        color: #2c5282;
        text-decoration: underline;
    }

    .form-container {
        background-color: white;
        border-radius: 0.75rem;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        padding: 1.5rem;
    }

    .form-fields {
        margin-bottom: 1.5rem;
    }

    /* Form field styling */
    .form-fields input,
    .form-fields textarea {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #e2e8f0;
        border-radius: 0.5rem;
        margin-top: 0.5rem;
        font-size: 1rem;
        transition: all 0.3s ease;
    }

    .form-fields input:focus,
    .form-fields textarea:focus {
        outline: none;
        border-color: #3182ce;
        box-shadow: 0 0 0 3px rgba(49, 130, 206, 0.1);
        background-color: #f8fafc;
    }

    .form-fields label {
        display: block;
        font-weight: 500;
        color: #4a5568;
        margin-bottom: 0.5rem;
    }

    /* Error messages styling */
    .errorlist {
        list-style: none;
        padding: 0;
        margin: 0.5rem 0;
        color: #e53e3e;
        font-size: 0.875rem;
    }

    /* Help text styling */
    .helptext {
        display: block;
        color: #718096;
        font-size: 0.875rem;
        margin-top: 0.25rem;
    }

    .form-actions {
        display: flex;
        justify-content: flex-end;
        margin-top: 2rem;
    }

    .submit-button {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        background-color: #3182ce;
        color: white;
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: 0.5rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .submit-button:hover {
        background-color: #2c5282;
        transform: translateY(-1px);
    }

    .submit-button:focus {
        outline: none;
        box-shadow: 0 0 0 3px rgba(49, 130, 206, 0.5);
    }

    /* Responsive design */
    @media (max-width: 640px) {
        .edit-entry-container {
            margin: 1rem auto;
        }

        .form-container {
            padding: 1rem;
        }

        .title-wrapper h1 {
            font-size: 1.5rem;
        }

        .form-fields input,
        .form-fields textarea {
            font-size: 16px; /* Prevents zoom on mobile */
        }

        .submit-button {
            width: 100%;
            justify-content: center;
        }
    }
</style>
{% endblock content %}